import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.fb3766a7.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"deploy/base/Ubuntu20.4.md","lastUpdated":1706873516000}'),e={name:"deploy/base/Ubuntu20.4.md"},p=l(`<h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>Ubuntu 是基于 Linux 的操作系统，其目录结构遵循 Filesystem Hierarchy Standard (FHS)标准，以下是 Ubuntu 常见目录的说明：</p><ul><li>/：根目录，包含整个文件系统。</li><li>/bin：二进制可执行文件目录，包含常用的命令和工具。</li><li>/boot：启动目录，包含启动系统所需的文件。</li><li>/dev：设备目录，包含所有硬件设备和外部存储设备的文件。</li><li>/etc：配置目录，包含系统和应用程序的配置文件。</li><li>/home：用户主目录，每个用户都有一个独立的子目录。</li><li>/lib：库目录，包含系统和应用程序所需的共享库。</li><li>/media：移动设备挂载目录，当插入设备时，会在此目录下创建一个子目录来挂载设备文件系统。</li><li>/opt：可选软件包目录，包含第三方软件包和其他软件安装的目录。</li><li>/proc：虚拟文件系统目录，包含关于当前运行进程和系统状态的信息。</li><li>/root：root 用户家目录。</li><li>/run：临时文件系统目录，存储当前系统运行时所需的临时文件。</li><li>/sbin：系统二进制可执行文件目录，包含系统管理员专用的命令和工具。</li><li>/srv：服务数据目录，包含某些服务（如 Web 服务器）提供的数据和文件。</li><li>/sys：虚拟文件系统目录，包含与系统硬件和内核相关的信息。</li><li>/tmp：临时文件目录，用于存储临时文件和缓存。</li><li>/usr：用户程序目录，包含系统大部分可共享的程序和文件。</li><li>/var：可变文件目录，包含系统和应用程序运行时产生的可变数据文件。</li></ul><h2 id="更新包管理器" tabindex="-1">更新包管理器 <a class="header-anchor" href="#更新包管理器" aria-label="Permalink to &quot;更新包管理器&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">get update</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装-nginx" tabindex="-1">安装 nginx <a class="header-anchor" href="#安装-nginx" aria-label="Permalink to &quot;安装 nginx&quot;">​</a></h2><p>1.安装 nginx，输入以下命令 <code>sudo apt-get install nginx</code></p><p>查看 nginx 是否安装 http_ssl_module 模块</p><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">./</span><span style="color:#89DDFF;">nginx</span><span style="color:#BABED8;"> -V</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2.验证 nginx 是否安装成功，在浏览器地址栏输入 localhost 或服务器 IP 地址，如果出现“Welcome to nginx”的页面，则说明 nginx 已经安装成功</p><p>3.在终端中输入以下命令，启动 nginx 服务 <code>sudo service nginx start</code></p><p>4.如果需要停止或重启 nginx，可以使用以下命令 <code>sudo service nginx stop</code><br><code>sudo service nginx restart</code></p><p>5.配置 nginx 服务器 默认情况下，nginx 的配置文件位于/etc/nginx/nginx.conf，可以使用 nano 或 vi 编辑器来修改它。可以在这里添加服务器名称，访问日志，错误日志等配置信息。</p><p>6.配置虚拟主机 虚拟主机是一种配置单个 Web 服务器来托管多个独立的网站或域名的方法。在 nginx 中，可以定义多个虚拟主机，每个虚拟主机都有自己的配置信息。可以在/etc/nginx/sites-available/目录中创建一个新的配置文件。</p><p>7.使用 vi 或 nano 编辑这个新文件。在其中添加以下内容：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">server </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#BABED8;">listen</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> # </span><span style="color:#BABED8;">监听端口80</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#BABED8;">server_name</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">example</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">com</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> # </span><span style="color:#BABED8;">主机名</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#BABED8;">root</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C792EA;">var</span><span style="color:#F07178;">/</span><span style="color:#BABED8;">www</span><span style="color:#F07178;">/example</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> # </span><span style="color:#BABED8;">根目录</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#BABED8;">index</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">html</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> # </span><span style="color:#BABED8;">索引文件</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>8.配置不同的域名对应不同的目录 (1) 编辑 Nginx 的配置文件，在 server 块内添加 server_name 指令，指定对应的域名。 (2) 在 server 块内，设置 root 指令，指定该域名对应的根目录。 举例来说，假设有两个域名 <a href="https://www.example.com" target="_blank" rel="noreferrer">www.example.com</a> 和 blog.example.com，需要它们分别对应不同的目录，则可以按照以下方式进行配置：</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">server </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">listen</span><span style="color:#F07178;">       </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">server_name</span><span style="color:#F07178;">  </span><span style="color:#BABED8;">www</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">example</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">location</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">root</span><span style="color:#F07178;">   </span><span style="color:#89DDFF;">/</span><span style="color:#C792EA;">var</span><span style="color:#F07178;">/</span><span style="color:#BABED8;">www</span><span style="color:#F07178;">/www.example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">index</span><span style="color:#F07178;">  </span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">html</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">htm</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">server </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">listen</span><span style="color:#F07178;">       </span><span style="color:#F78C6C;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">server_name</span><span style="color:#F07178;">  </span><span style="color:#BABED8;">blog</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">example</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">location</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">root</span><span style="color:#F07178;">   </span><span style="color:#89DDFF;">/</span><span style="color:#C792EA;">var</span><span style="color:#F07178;">/</span><span style="color:#BABED8;">www</span><span style="color:#F07178;">/blog.example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#BABED8;">index</span><span style="color:#F07178;">  </span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">html</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">htm</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>在这个示例中，Nginx 会根据请求的域名，选择对应的 server 块，并使用指定的 root 指令指定根目录。例如，当请求 <a href="https://www.example.com" target="_blank" rel="noreferrer">www.example.com</a> 时，Nginx 会使用第一个 server 块，并指定根目录为 <code>/var/www/[www.example.com](https://www.example.com)</code> 。</p><p>9.重新启动 nginx 服务器进行配置文件的更新 <code>sudo service nginx restart</code></p><h2 id="安装-nodejs" tabindex="-1">安装 nodejs <a class="header-anchor" href="#安装-nodejs" aria-label="Permalink to &quot;安装 nodejs&quot;">​</a></h2><p>1、安装 Node.js 的 PPA( Personal Package Archives)</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">sudo curl </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">sL </span><span style="color:#FFCB6B;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//deb.nodesource.com/setup_18.x | sudo -E bash -</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>2、安装 Node.js 和 npm</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">sudo apt</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">get install </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">y nodejs</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3、验证 Node.js 和 npm 是否安装成功</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">node </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> v</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">npm </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> v</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果输出版本号，则说明安装成功。</p><h2 id="安装-pm2" tabindex="-1">安装 pm2 <a class="header-anchor" href="#安装-pm2" aria-label="Permalink to &quot;安装 pm2&quot;">​</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">npm install </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">g pm2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装-git" tabindex="-1">安装 git <a class="header-anchor" href="#安装-git" aria-label="Permalink to &quot;安装 git&quot;">​</a></h2><div class="language-nginx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">apt</span><span style="color:#BABED8;"> install git</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="安装-docker" tabindex="-1">安装 docker <a class="header-anchor" href="#安装-docker" aria-label="Permalink to &quot;安装 docker&quot;">​</a></h2><p>您可以按照以下步骤在 Ubuntu 20.04 上安装 Docker：</p><ol><li>首先，使用以下命令更新 Ubuntu 软件包列表：</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">sudo apt update</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>然后，安装 Docker 的依赖项：</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">sudo apt install apt-transport-https ca-certificates curl software-properties-common</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>接下来，添加 Docker 官方 GPG 密钥：</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="4"><li>然后，添加 Docker 的 APT 仓库：</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>最后，安装 Docker：</li></ol><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">sudo apt update</span></span>
<span class="line"><span style="color:#babed8;">sudo apt install docker-ce</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>安装完成后，您可以运行以下命令检查 Docker 是否已成功安装：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">sudo docker run hello-world</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果一切正常，您将看到一条消息，表示 Docker 已成功安装并正在运行。</p>`,47),o=[p];function r(t,c,i,d,b,y){return a(),n("div",null,o)}const D=s(e,[["render",r]]);export{m as __pageData,D as default};
