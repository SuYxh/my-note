import{_ as a,c as e,o as t,V as s}from"./chunks/framework.hxTji2_l.js";const b=JSON.parse('{"title":"免费证书申请指南","description":"","frontmatter":{},"headers":[],"relativePath":"engineering/deploy/base/免费证书使用指南.md","filePath":"engineering/deploy/base/免费证书使用指南.md","lastUpdated":1715948623000}'),n={name:"engineering/deploy/base/免费证书使用指南.md"},l=s(`<h1 id="免费证书申请指南" tabindex="-1">免费证书申请指南 <a class="header-anchor" href="#免费证书申请指南" aria-label="Permalink to &quot;免费证书申请指南&quot;">​</a></h1><blockquote><p>申请网站: <a href="https://freessl.cn/" target="_blank" rel="noreferrer">https://freessl.cn/</a></p></blockquote><h3 id="申请" tabindex="-1">申请 <a class="header-anchor" href="#申请" aria-label="Permalink to &quot;申请&quot;">​</a></h3><p><img src="https://qn.huat.xyz/mac/202309101532855.png" alt="image-20230910153223810"></p><h3 id="填写域名" tabindex="-1">填写域名 <a class="header-anchor" href="#填写域名" aria-label="Permalink to &quot;填写域名&quot;">​</a></h3><p><img src="https://qn.huat.xyz/mac/202309101535631.png" alt="image-20230910153532579"></p><h3 id="dcv-配置" tabindex="-1">DCV 配置 <a class="header-anchor" href="#dcv-配置" aria-label="Permalink to &quot;DCV 配置&quot;">​</a></h3><blockquote><p>实际上就是解析域名</p></blockquote><p><img src="https://qn.huat.xyz/mac/202309101536448.png" alt="image-20230910153634412"></p><p>在域名服务商处进行添加解析</p><h3 id="证书申请-部署" tabindex="-1">证书申请 &amp; 部署 <a class="header-anchor" href="#证书申请-部署" aria-label="Permalink to &quot;证书申请 &amp; 部署&quot;">​</a></h3><p><img src="https://qn.huat.xyz/mac/202309101537255.png" alt="image-20230910153737212"></p><h4 id="安装-acme-sh" tabindex="-1">安装 acme.sh <a class="header-anchor" href="#安装-acme-sh" aria-label="Permalink to &quot;安装 acme.sh&quot;">​</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl https://gitcode.net/cert/cn-acme.sh/-/raw/master/install.sh?inline=false | sh -s email=my@example.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意：安装完成后，再重新打开命令行（如果是 SSH，选择重新连接），以使 acme.sh 命令生效。</p></blockquote><h4 id="获取证书" tabindex="-1">获取证书 <a class="header-anchor" href="#获取证书" aria-label="Permalink to &quot;获取证书&quot;">​</a></h4><p>执行 acme.sh 部署命令， 可以在本机执行 也可以在服务器进行执行，执行命令是为了获取证书。</p><p><img src="https://qn.huat.xyz/mac/202309101539597.png" alt="image-20230910153940562"></p><p>就可以看到生成的证书</p><p><img src="https://qn.huat.xyz/mac/202309101540892.png" alt="image-20230910154044868"></p><blockquote><p>full chain certs 可作为 PEM 格式证书</p></blockquote><h4 id="证书安装" tabindex="-1">证书安装 <a class="header-anchor" href="#证书安装" aria-label="Permalink to &quot;证书安装&quot;">​</a></h4><p>Nginx example:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>acme.sh --install-cert -d example.com \\</span></span>
<span class="line"><span>--key-file       /path/to/keyfile/in/nginx/key.pem  \\</span></span>
<span class="line"><span>--fullchain-file /path/to/fullchain/nginx/cert.pem \\</span></span>
<span class="line"><span>--reloadcmd     &quot;service nginx force-reload&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>PEM 格式证书 = 域名证书.crt + 根证书(root_bundle).crt</p></blockquote><h2 id="其他平台" tabindex="-1">其他平台 <a class="header-anchor" href="#其他平台" aria-label="Permalink to &quot;其他平台&quot;">​</a></h2><h3 id="let-s-encrypt" tabindex="-1">Let&#39;s Encrypt <a class="header-anchor" href="#let-s-encrypt" aria-label="Permalink to &quot;Let&#39;s Encrypt&quot;">​</a></h3><blockquote><p><a href="https://letsencrypt.org/zh-cn/" target="_blank" rel="noreferrer">https://letsencrypt.org/zh-cn/</a></p></blockquote><p><img src="https://qn.huat.xyz/mac/202309101550960.png" alt="image-20230910155050908"></p><h3 id="lookssl" tabindex="-1">lookSSL <a class="header-anchor" href="#lookssl" aria-label="Permalink to &quot;lookSSL&quot;">​</a></h3><blockquote><p><a href="https://www.lookssl.com/" target="_blank" rel="noreferrer">https://www.lookssl.com/</a></p></blockquote><p><img src="https://qn.huat.xyz/mac/202309101547539.png" alt="image-20230910154726506"></p><h3 id="cloudflare" tabindex="-1">cloudflare <a class="header-anchor" href="#cloudflare" aria-label="Permalink to &quot;cloudflare&quot;">​</a></h3><p><a href="https://www.cloudflare-cn.com/" target="_blank" rel="noreferrer">https://www.cloudflare-cn.com/</a></p><p><img src="https://qn.huat.xyz/mac/202309101549136.png" alt="image-20230910154909091"></p>`,35),r=[l];function o(c,p,i,h,d,m){return t(),e("div",null,r)}const g=a(n,[["render",o]]);export{b as __pageData,g as default};
