import{_ as s,c as a,o as n,V as e}from"./chunks/framework.hxTji2_l.js";const b=JSON.parse('{"title":"npm或Yarn 转 pnpm","description":"","frontmatter":{},"headers":[],"relativePath":"engineering/package/npm转pnpm.md","filePath":"engineering/package/npm转pnpm.md","lastUpdated":1716774423000}'),i={name:"engineering/package/npm转pnpm.md"},p=e(`<h1 id="npm或yarn-转-pnpm" tabindex="-1">npm或Yarn 转 pnpm <a class="header-anchor" href="#npm或yarn-转-pnpm" aria-label="Permalink to &quot;npm或Yarn 转 pnpm&quot;">​</a></h1><p>可参考<code>vue</code>代码库的这一次升级<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fcore%2Fcommit%2F61c5fbd3e35152f5f32e95bf04d3ee083414cecb%23diff-18ae0a0fab29a7db7aded913fd05f30a2c8f6c104fadae86c9d217091709794c" target="_blank" rel="noreferrer">commit log</a></p><p>操作步骤：</p><p>全局安装<code>pnpm</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install -g pnpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>删除<code>npm</code>或<code>yarn</code>生成的<code>node_modules</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 项目目录下运行或手动物理删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node_modules</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>pnpm import</code>从其他软件包管理器的<code>lock</code> 文件生成 <code>pnpm-lock.yaml</code>，再执行<code>pnpm install --frozen-lockfile</code>（相当于<code>npm ci</code>）生成依赖，防止没有lock文件意外升级依赖包，导致项目出错</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成\`pnpm-lock.yaml\`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> import</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install --frozen-lockfile</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>删除<code>npm</code>或<code>yarn</code>生成的<code>lock</code>文件</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除package-lock.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-lock.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除yarn.lock</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn.lock</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>项目中的<code>npm</code>命令等修改为<code>pnpm</code>，包括<code>README</code>文档、运行命令等</p>`,12),l=[p];function t(c,d,r,o,h,k){return n(),a("div",null,l)}const g=s(i,[["render",t]]);export{b as __pageData,g as default};
