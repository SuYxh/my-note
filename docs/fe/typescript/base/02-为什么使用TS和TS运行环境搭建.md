# 为什么使用 TS 和 TS 运行环境搭建

TypeScript 是微软开发的一个开源的编程语言，通过在 JavaScript 的基础上添加静态类型定义构建而成。TypeScript 通过 TypeScript 编译器或 Babel 转译为 JavaScript 代码，可运行在任何浏览器，任何操作系统。

## TS 文件需要编译成 JS 文件

首先我们的浏览器是不认识 TS 文件的，所以需要把 TS 编译成 JS 文件才可以，TS 官网提供了一种方式，就是去全局安装 typescript 这个模块，命令如下：

```shell
npm install -g typescript
```

安装好后，就可以使用 `tsc xxx.ts`命名把 TS 文件自动转化成对应的 JS 文件了，在同级目录下就会生成一个 xxx.js 的文件，这个文件就是编译后的文件，浏览器是可以认识的。

在 TS 编译 JS 文件的时候，会有一些细节，我们一起来看一下：

第一，在`tsc`命令进行转换操作的时候，是不能实时进行转换的，那么可以通过添加一个`-w`的参数来完成实时转换的操作

```shell
tsc xxx.ts -w
```

第二，在编译后，我们会发现 TS 文件中定义的变量会产生错误的波浪线，这主要是因为 TS 默认是全局环境下的，所以跟其他文件中的同名变量冲突了，那么该如何解决呢？可以把全局环境改成局部的环境，只需要把 TS 文件变成一个模块化的文件，那么变量就只在模块内起作用，这样就不会产生冲突，从而引发错误的波浪线。

```ts
let foo = 123;
export {};
```

第三，如果不想采用默认的编译方式，那么可以通过修改配置文件来改变一些默认的行为。配置文件需要叫做，`tsconfig.json`。

可以通过`tsc --init`命令自动化的创建`tsconfig.json`这个文件，这个文件中的配置选项非常的多，我们会在后面小节中给大家进行详解的讲解，这里先修改其中的一两个配置，来感受一下配置文件的一个作用。

```json
{
    “compilerOptions”: {
    	"outDir": "./dist",    //编译后文件输出的位置
        "module": "ES6",       //转换后模块的风格
        "target": "ES5"        //转换成JS不同语法版本
    },
    "include": ["xxx.ts"]     //只对那些文件进行编译
}
```

通过命令行输入`tsc`命令就可以自动去调用`tsconfig.json`这个文件了，非常的方便。

## 为什么要使用 TS 去写程序

TS 编写代码的好处诸多，下面我们列出几点：

- 友好的 IDE 提示
- 强制类型，防止报错
- 语言编写更加严谨
- 快速查找到拼写错误
- JS 的超集，扩展新功能

下面通过几个小例子来感受一下 TS 比 JS 要优秀的点，

```typescript
let a = 123;
a.map(() => {}); // error
```

这段代码在 TS 中是会报错的，因为 a 是一个数字，不会有 map 方法，而 JS 是不会给我们进行提示的。

```typescript
let a = 1;
if (a === 1 && a === 2) {
  // error
}
```

这段代码在 TS 中是会报错的，因为从逻辑上来看这段代码并没有意义，因为 a 同一时间不可能既是 1 又是 2。

```typescript
let a = {
  username: "xiaoming",
  age: 20,
};
```

这段代码 TS 提示会非常的好，不会夹杂一些其他的提示信息，而且一旦单词写错了，TS 会有非常好的提示效果。
